{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projects\\\\Rebartek\\\\cms.webui\\\\src\\\\content\\\\pages\\\\Components\\\\Lecture\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Grid, Container, Autocomplete, TextField, Snackbar, Alert, ListItem, Checkbox, ListItemIcon, ListItemText, List, Card, Divider, CardHeader, Button, CardContent } from '@mui/material';\nimport { useEffect, useRef, useState } from 'react';\nimport { LectureService } from '../../../../services/lecture.service';\nimport { ProfileService } from '../../../../services/profile.service';\nimport { DepartmentService } from '../../../../services/department.service';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction not(a, b) {\n  return a.filter(value => b.indexOf(value) === -1);\n}\n\nfunction intersection(a, b) {\n  return a.filter(value => b.indexOf(value) !== -1);\n}\n\nfunction union(a, b) {\n  return [...a, ...not(b, a)];\n}\n\nconst Lecture = () => {\n  _s();\n\n  const [openSuccessAlert, setopenSuccessAlert] = useState(false);\n  const [openErrorAlert, setopenErrorAlert] = useState(false);\n  const [messageSuccess, setMessageSuccess] = useState(\"\");\n  const [messageErorr, setMessageError] = useState(\"\");\n  const [isAdmin, setAdmin] = useState(false);\n  const [lectures, setLectures] = useState([]);\n  const [selectedLectures, setSelectedLectures] = useState([]);\n  const [departments, setDepartments] = useState([]);\n  const [selectedDepartment, setSelectedDepartment] = useState({\n    departmentName: ''\n  });\n  const [rerenderTableFlag, setrerenderTableFlag] = useState(false);\n  const userFormFunc = useRef(null);\n\n  const _profile = ProfileService.getProfile();\n\n  useEffect(() => {\n    DepartmentService.getAllDepartments().then(x => setDepartments(x));\n  }, []);\n  useEffect(() => {\n    if (departments.length > 0) {\n      setSelectedDepartment(departments.filter(x => x._id == (_profile === null || _profile === void 0 ? void 0 : _profile.DepartmentID))[0]);\n\n      if (_profile) {\n        if (_profile.RoleID == 1) {\n          setAdmin(true);\n          LectureService.getAllLectures().then(x => setLectures(x));\n        } else if (_profile.RoleID == 2) {\n          LectureService.getAllLectureByDepartmentID(_profile.DepartmentID).then(x => setLectures(x));\n        } else if (_profile.RoleID == 3) {\n          DepartmentService.getDepartmentByID(_profile.DepartmentID).then(x => {\n            setLectures(x[0].lectures);\n          });\n        }\n      }\n    }\n  }, [departments]);\n\n  const handleAlertClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setopenSuccessAlert(false);\n    setopenErrorAlert(false);\n  };\n\n  const rerenderLectureTable = () => {\n    setrerenderTableFlag(true);\n  };\n\n  const [checked, setChecked] = useState([]);\n  const [left, setLeft] = useState([0, 1, 2, 3]);\n  const [right, setRight] = useState([4, 5, 6, 7]);\n  const leftChecked = intersection(checked, left);\n  const rightChecked = intersection(checked, right);\n\n  const handleToggle = value => () => {\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    setChecked(newChecked);\n  };\n\n  const numberOfChecked = items => intersection(checked, items).length;\n\n  const handleToggleAll = items => () => {\n    if (numberOfChecked(items) === items.length) {\n      setChecked(not(checked, items));\n    } else {\n      setChecked(union(checked, items));\n    }\n  };\n\n  const handleCheckedRight = () => {\n    setRight(right.concat(leftChecked));\n    setLeft(not(left, leftChecked));\n    setChecked(not(checked, leftChecked));\n  };\n\n  const handleCheckedLeft = () => {\n    setLeft(left.concat(rightChecked));\n    setRight(not(right, rightChecked));\n    setChecked(not(checked, rightChecked));\n  };\n\n  const handleClickSave = () => {};\n\n  const customList = (title, items) => /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      sx: {\n        px: 2,\n        py: 1\n      },\n      avatar: /*#__PURE__*/_jsxDEV(Checkbox, {\n        onClick: handleToggleAll(items),\n        checked: numberOfChecked(items) === items.length && items.length !== 0,\n        indeterminate: numberOfChecked(items) !== items.length && numberOfChecked(items) !== 0,\n        disabled: items.length === 0,\n        inputProps: {\n          'aria-label': 'all items selected'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this),\n      title: title,\n      subheader: `${numberOfChecked(items)}/${items.length} selected`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      sx: {\n        height: 330,\n        bgcolor: 'background.paper',\n        overflow: 'auto'\n      },\n      dense: true,\n      component: \"div\",\n      role: \"list\",\n      children: [items.map(value => {\n        const labelId = `transfer-list-all-item-${value}-label`;\n        return /*#__PURE__*/_jsxDEV(ListItem, {\n          role: \"listitem\",\n          button: true,\n          onClick: handleToggle(value),\n          children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n            children: /*#__PURE__*/_jsxDEV(Checkbox, {\n              checked: checked.indexOf(value) !== -1,\n              tabIndex: -1,\n              disableRipple: true,\n              inputProps: {\n                'aria-labelledby': labelId\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            id: labelId,\n            primary: `List item ${value + 1}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)]\n        }, value, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(ListItem, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n      open: openSuccessAlert,\n      autoHideDuration: 5000,\n      onClose: handleAlertClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleAlertClose,\n        variant: \"filled\",\n        severity: \"success\",\n        sx: {\n          width: '100%'\n        },\n        children: messageSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: openErrorAlert,\n      autoHideDuration: 5000,\n      onClose: handleAlertClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleAlertClose,\n        variant: \"filled\",\n        severity: \"success\",\n        sx: {\n          width: '100%'\n        },\n        children: messageSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        m: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        title: \"Lecture Selection\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          maxWidth: \"lg\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            direction: \"row\",\n            justifyContent: \"center\",\n            alignItems: \"stretch\",\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n                disabled: isAdmin == false,\n                onChange: (event, newValue) => {\n                  setSelectedDepartment(newValue);\n                },\n                value: selectedDepartment,\n                disablePortal: true,\n                style: {\n                  width: '94%'\n                },\n                id: \"drpDepartments\",\n                options: departments,\n                getOptionLabel: departments => departments.departmentName,\n                renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n                  style: {\n                    width: '100%'\n                  },\n                  ...params,\n                  label: \"Department\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 54\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 6,\n              sx: {\n                textAlign: \"right\"\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                type: \"button\",\n                onClick: () => handleClickSave(),\n                sx: {\n                  height: \"53px\",\n                  padding: 1\n                },\n                variant: \"contained\",\n                color: \"primary\",\n                children: \" Save \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: /*#__PURE__*/_jsxDEV(Grid, {\n                container: true,\n                spacing: 2,\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                children: [/*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 5.6,\n                  children: customList('Lecture Choices', left)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  children: /*#__PURE__*/_jsxDEV(Grid, {\n                    container: true,\n                    direction: \"column\",\n                    alignItems: \"center\",\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      sx: {\n                        my: 0.5\n                      },\n                      variant: \"outlined\",\n                      size: \"small\",\n                      onClick: handleCheckedRight,\n                      disabled: leftChecked.length === 0,\n                      \"aria-label\": \"move selected right\",\n                      children: \">\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      sx: {\n                        my: 0.5\n                      },\n                      variant: \"outlined\",\n                      size: \"small\",\n                      onClick: handleCheckedLeft,\n                      disabled: rightChecked.length === 0,\n                      \"aria-label\": \"move selected left\",\n                      children: \"<\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                  item: true,\n                  xs: 5.5,\n                  children: customList('Chosen Lectures', right)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Lecture, \"Tc4EdJm42shwE3FrfxXN8wBWg+U=\");\n\n_c = Lecture;\nexport default Lecture;\n\nvar _c;\n\n$RefreshReg$(_c, \"Lecture\");","map":{"version":3,"sources":["E:/Projects/Rebartek/cms.webui/src/content/pages/Components/Lecture/index.tsx"],"names":["Grid","Container","Autocomplete","TextField","Snackbar","Alert","ListItem","Checkbox","ListItemIcon","ListItemText","List","Card","Divider","CardHeader","Button","CardContent","useEffect","useRef","useState","LectureService","ProfileService","DepartmentService","not","a","b","filter","value","indexOf","intersection","union","Lecture","openSuccessAlert","setopenSuccessAlert","openErrorAlert","setopenErrorAlert","messageSuccess","setMessageSuccess","messageErorr","setMessageError","isAdmin","setAdmin","lectures","setLectures","selectedLectures","setSelectedLectures","departments","setDepartments","selectedDepartment","setSelectedDepartment","departmentName","rerenderTableFlag","setrerenderTableFlag","userFormFunc","_profile","getProfile","getAllDepartments","then","x","length","_id","DepartmentID","RoleID","getAllLectures","getAllLectureByDepartmentID","getDepartmentByID","handleAlertClose","event","reason","rerenderLectureTable","checked","setChecked","left","setLeft","right","setRight","leftChecked","rightChecked","handleToggle","currentIndex","newChecked","push","splice","numberOfChecked","items","handleToggleAll","handleCheckedRight","concat","handleCheckedLeft","handleClickSave","customList","title","px","py","height","bgcolor","overflow","map","labelId","width","m","newValue","params","textAlign","padding","my"],"mappings":"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","sourcesContent":["import { Grid, Container, Autocomplete, TextField, Snackbar, Alert, ListItem, Checkbox, ListItemIcon, ListItemText, List, Card, Divider, CardHeader, Button, CardContent } from '@mui/material';\r\nimport { MouseEventHandler, useEffect, useRef, useState } from 'react';\r\nimport LectureTable from './LectureTable';\r\nimport { DepartmentModel, LectureModel } from '../../../../types/master.type';\r\nimport { LectureService } from '../../../../services/lecture.service';\r\nimport { ProfileService } from '../../../../services/profile.service';\r\nimport { DepartmentService } from '../../../../services/department.service';\r\n\r\nfunction not(a: readonly number[], b: readonly number[]) {\r\n    return a.filter((value) => b.indexOf(value) === -1);\r\n  }\r\n  \r\n  function intersection(a: readonly number[], b: readonly number[]) {\r\n    return a.filter((value) => b.indexOf(value) !== -1);\r\n  }\r\n  \r\n  function union(a: readonly number[], b: readonly number[]) {\r\n    return [...a, ...not(b, a)];\r\n  }\r\n\r\nconst Lecture = () => {\r\n\r\n    const [openSuccessAlert, setopenSuccessAlert] = useState<boolean>(false);\r\n    const [openErrorAlert, setopenErrorAlert] = useState<boolean>(false);\r\n    const [messageSuccess, setMessageSuccess] = useState<string>(\"\");\r\n    const [messageErorr, setMessageError] = useState<string>(\"\");\r\n\r\n    const [isAdmin, setAdmin] = useState<boolean>(false);\r\n    const [lectures, setLectures] = useState<LectureModel[]>([]);\r\n    const [selectedLectures, setSelectedLectures] = useState<LectureModel[]>([]);\r\n    const [departments, setDepartments] = useState<DepartmentModel[]>([]);\r\n    const [selectedDepartment, setSelectedDepartment] = useState<DepartmentModel>({departmentName:''});\r\n    const [rerenderTableFlag, setrerenderTableFlag] = useState<boolean>(false);\r\n    const userFormFunc = useRef<any>(null)\r\n    const _profile = ProfileService.getProfile();\r\n    useEffect(() => {\r\n     DepartmentService.getAllDepartments().then(x => setDepartments(x) );\r\n    },[]);\r\n    useEffect(() => {\r\n      if(departments.length > 0){\r\n        setSelectedDepartment(departments.filter(x => x._id == _profile?.DepartmentID)[0]);\r\n      if(_profile){\r\n        if(_profile.RoleID == 1){\r\n          setAdmin(true);\r\n          LectureService.getAllLectures().then(x => setLectures(x));\r\n        }\r\n        else if(_profile.RoleID == 2){\r\n          LectureService.getAllLectureByDepartmentID(_profile.DepartmentID).then(x => setLectures(x));\r\n        }\r\n        else if(_profile.RoleID == 3){\r\n          DepartmentService.getDepartmentByID(_profile.DepartmentID).then(x => {\r\n            setLectures(x[0].lectures!);\r\n          }); \r\n      }\r\n    }\r\n      }\r\n      \r\n    },[departments]);\r\n    const handleAlertClose = (event?: React.SyntheticEvent | Event, reason?: string) => {\r\n        if (reason === 'clickaway') {\r\n            return;\r\n        }\r\n        setopenSuccessAlert(false);\r\n        setopenErrorAlert(false);\r\n    };\r\n    const rerenderLectureTable = () => {\r\n        setrerenderTableFlag(true);\r\n    }\r\n\r\n  const [checked, setChecked] = useState<readonly number[]>([]);\r\n  const [left, setLeft] = useState<readonly number[]>([0, 1, 2, 3]);\r\n  const [right, setRight] = useState<readonly number[]>([4, 5, 6, 7]);\r\n\r\n  const leftChecked = intersection(checked, left);\r\n  const rightChecked = intersection(checked, right);\r\n\r\n  const handleToggle = (value: number) => () => {\r\n    const currentIndex = checked.indexOf(value);\r\n    const newChecked = [...checked];\r\n\r\n    if (currentIndex === -1) {\r\n      newChecked.push(value);\r\n    } else {\r\n      newChecked.splice(currentIndex, 1);\r\n    }\r\n\r\n    setChecked(newChecked);\r\n  };\r\n\r\n  const numberOfChecked = (items: readonly number[]) =>\r\n    intersection(checked, items).length;\r\n\r\n  const handleToggleAll = (items: readonly number[]) => () => {\r\n    if (numberOfChecked(items) === items.length) {\r\n      setChecked(not(checked, items));\r\n    } else {\r\n      setChecked(union(checked, items));\r\n    }\r\n  };\r\n\r\n  const handleCheckedRight = () => {\r\n    setRight(right.concat(leftChecked));\r\n    setLeft(not(left, leftChecked));\r\n    setChecked(not(checked, leftChecked));\r\n  };\r\n\r\n  const handleCheckedLeft = () => {\r\n    setLeft(left.concat(rightChecked));\r\n    setRight(not(right, rightChecked));\r\n    setChecked(not(checked, rightChecked));\r\n  };\r\n\r\n  const handleClickSave = () => {\r\n  \r\n  };\r\n\r\n  const customList = (title: React.ReactNode, items: readonly number[]) => (\r\n    <Card>\r\n      <CardHeader\r\n        sx={{ px: 2, py: 1 }}\r\n        avatar={\r\n          <Checkbox\r\n            onClick={handleToggleAll(items)}\r\n            checked={numberOfChecked(items) === items.length && items.length !== 0}\r\n            indeterminate={\r\n              numberOfChecked(items) !== items.length && numberOfChecked(items) !== 0\r\n            }\r\n            disabled={items.length === 0}\r\n            inputProps={{\r\n              'aria-label': 'all items selected',\r\n            }}\r\n          />\r\n        }\r\n        title={title}\r\n        subheader={`${numberOfChecked(items)}/${items.length} selected`}\r\n      />\r\n      <Divider />\r\n      <List\r\n        sx={{\r\n         \r\n          height: 330,\r\n          bgcolor: 'background.paper',\r\n          overflow: 'auto',\r\n        }}\r\n        dense\r\n        component=\"div\"\r\n        role=\"list\"\r\n      >\r\n        {items.map((value: number) => {\r\n          const labelId = `transfer-list-all-item-${value}-label`;\r\n\r\n          return (\r\n            <ListItem\r\n              key={value}\r\n              role=\"listitem\"\r\n              button\r\n              onClick={handleToggle(value)}\r\n            >\r\n              <ListItemIcon>\r\n                <Checkbox\r\n                  checked={checked.indexOf(value) !== -1}\r\n                  tabIndex={-1}\r\n                  disableRipple\r\n                  inputProps={{\r\n                    'aria-labelledby': labelId,\r\n                  }}\r\n                />\r\n              </ListItemIcon>\r\n              <ListItemText id={labelId} primary={`List item ${value + 1}`} />\r\n            </ListItem>\r\n          );\r\n        })}\r\n        <ListItem />\r\n      </List>\r\n    </Card>\r\n  );\r\n    return (\r\n        <>\r\n         <Snackbar open={openSuccessAlert} autoHideDuration={5000} onClose={handleAlertClose}>\r\n                <Alert onClose={handleAlertClose} variant=\"filled\" severity=\"success\" sx={{ width: '100%' }}>\r\n                    {messageSuccess}\r\n                </Alert>\r\n            </Snackbar>\r\n            <Snackbar open={openErrorAlert} autoHideDuration={5000} onClose={handleAlertClose}>\r\n                <Alert onClose={handleAlertClose} variant=\"filled\" severity=\"success\" sx={{ width: '100%' }}>\r\n                    {messageSuccess}\r\n                </Alert>\r\n            </Snackbar>\r\n            <Card sx={{m:3}}>\r\n            <CardHeader title=\"Lecture Selection\" />\r\n                <CardContent>\r\n                <Container maxWidth=\"lg\">\r\n                <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"stretch\" spacing={3}>\r\n                    <Grid item xs={6}>\r\n                        <Autocomplete disabled={isAdmin == false}\r\n                            onChange={(event, newValue) => {\r\n                                setSelectedDepartment(newValue!);\r\n                            }}\r\n                            value={selectedDepartment} disablePortal style={{ width: '94%' }}\r\n                            id=\"drpDepartments\" options={departments} getOptionLabel={departments => departments.departmentName}\r\n                            renderInput={(params) => <TextField style={{ width: '100%' }} {...params} label=\"Department\" />}\r\n                        />\r\n                    </Grid>\r\n                    <Grid item xs={6} sx={{textAlign:\"right\"}}>\r\n                        <Button type=\"button\" onClick={() => handleClickSave()} sx={{ height:\"53px\",padding:1}} variant=\"contained\" color=\"primary\"> Save </Button>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                    <Grid container spacing={2} justifyContent=\"center\" alignItems=\"center\">\r\n                        <Grid item xs={5.6}>{customList('Lecture Choices', left)}</Grid>\r\n                            <Grid item>\r\n                            <Grid container direction=\"column\" alignItems=\"center\">\r\n                            <Button\r\n                                sx={{ my: 0.5 }}\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                onClick={handleCheckedRight}\r\n                                disabled={leftChecked.length === 0}\r\n                                aria-label=\"move selected right\"\r\n                            >\r\n                                &gt;\r\n                            </Button>\r\n                            <Button\r\n                                sx={{ my: 0.5 }}\r\n                                variant=\"outlined\"\r\n                                size=\"small\"\r\n                                onClick={handleCheckedLeft}\r\n                                disabled={rightChecked.length === 0}\r\n                                aria-label=\"move selected left\"\r\n                            >\r\n                                &lt;\r\n                            </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid item  xs={5.5}>{customList('Chosen Lectures', right)}</Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Container>\r\n                </CardContent>\r\n            </Card>\r\n           \r\n        </>\r\n    );\r\n}\r\n\r\nexport default Lecture;\r\n"]},"metadata":{},"sourceType":"module"}