{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projects\\\\LFMS\\\\LFMS.WebUI\\\\src\\\\content\\\\pages\\\\Components\\\\Users\\\\UsersTable.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { TableSortLabel, Divider, Box, Card, Checkbox, Table, TableBody, TableCell, TableHead, TablePagination, TableRow, TableContainer, Typography, useTheme } from '@mui/material';\nimport { post } from \"../../../../services/common.service\";\nimport { visuallyHidden } from '@mui/utils'; //import BulkActions from './BulkActions';\n//interface RecentOrdersTableProps {\n//  className?: string;\n//  cryptoOrders: User[];\n//}\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n//const getStatusLabel = (cryptoOrderStatus: UserStatus): JSX.Element => {\n//  const map = {\n//    failed: {\n//      text: 'Failed',\n//      color: 'error'\n//    },\n//    completed: {\n//      text: 'Completed',\n//      color: 'success'\n//    },\n//    pending: {\n//      text: 'Pending',\n//      color: 'warning'\n//    }\n//  };\n//  const { text, color }: any = map[cryptoOrderStatus];\n//  return <Label color={color}>{text}</Label>;\n//};\n//const applyFilters = (\n//  cryptoOrders: IUser[],\n//  filters: Filters\n//): IUser[] => {\n//  return cryptoOrders.filter((cryptoOrder) => {\n//    let matches = true;\n//    if (filters.status && cryptoOrder.status !== filters.status) {\n//      matches = false;\n//    }\n//    return matches;\n//  });\n//};\nconst applyPagination = (users, page, limit) => {\n  return users.slice(page * limit, page * limit + limit);\n};\n\nconst UsersTable = () => {\n  _s();\n\n  var [users, setUsers] = useState([]);\n  var [order, setOrder] = useState({\n    orderBy: '',\n    orderDirection: 'asc'\n  });\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const selectedBulkActions = selectedUsers.length > 0;\n  const [page, setPage] = useState(0);\n  const [limit, setLimit] = useState(5);\n  const [filters, setFilters] = useState({\n    UserName: undefined,\n    PersonName: undefined,\n    RoleName: undefined\n  });\n  const statusOptions = [{\n    id: 'all',\n    name: 'All'\n  }, {\n    id: 'completed',\n    name: 'Completed'\n  }, {\n    id: 'pending',\n    name: 'Pending'\n  }, {\n    id: 'failed',\n    name: 'Failed'\n  }];\n\n  const handleStatusChange = (event, child) => {\n    let value = null;\n\n    if (event.target.value !== 'all') {\n      value = event.target.value;\n    }\n\n    setFilters(prevFilters => ({ ...prevFilters,\n      UserName: value,\n      PersonName: value,\n      RoleName: value\n    }));\n  };\n\n  const handleSelectAllUsers = event => {\n    setSelectedUsers(event.target.checked ? users === null || users === void 0 ? void 0 : users.map(user => user.UserID) : []);\n  };\n\n  const handleSelectOneUser = (event, UserID) => {\n    if (!selectedUsers.includes(UserID)) {\n      setSelectedUsers(prevSelected => [...prevSelected, UserID]);\n    } else {\n      setSelectedUsers(prevSelected => prevSelected.filter(id => id !== UserID));\n    }\n  };\n\n  const handlePageChange = (event, newPage) => {\n    setPage(newPage);\n    getFilteredUsers();\n  };\n\n  const handleLimitChange = event => {\n    setLimit(parseInt(event.target.value));\n  }; //const handleSort = (columnName: string): import(\"react\").MouseEventHandler<HTMLSpanElement> | undefined {\n  //    setOrder({ orderBy: columnName, orderDirection : 'asc' });\n  //}\n\n\n  const handleSort = property => event => {\n    //onRequestSort(event, property);\n    setOrder({\n      orderBy: property,\n      orderDirection: 'asc'\n    });\n    getFilteredUsers();\n  }; //const handleSort = (event: React.MouseEvent<unknown>, property: string) => {\n  //    const isAsc = orderBy === property && order === 'asc';\n  //    setOrder(isAsc ? 'desc' : 'asc');\n  //    setOrderBy(property);\n  //};\n  //const filteredUsers = getFilteredUsers( filters);\n  //const paginatedUsers = applyPagination(\n  //  filteredUsers,\n  //  page,\n  //  limit\n  //);\n\n\n  const selectedSomeUsers = selectedUsers.length > 0 && selectedUsers.length < users.length;\n  const selectedAllUsers = selectedUsers.length === users.length;\n  const theme = useTheme();\n\n  const getFilteredUsers = () => {\n    let _requestParamters = {\n      filters: filters,\n      length: limit,\n      start: page * limit,\n      order: order\n    };\n    post('user/GetUsers', _requestParamters).then(response => {\n      if (response.status == 200) {\n        setUsers(response.data.data);\n      }\n    }, error => {\n      const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    });\n  }; //getFilteredUsers();\n\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: [/*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              padding: \"checkbox\",\n              children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                color: \"primary\",\n                checked: selectedAllUsers,\n                indeterminate: selectedSomeUsers,\n                onChange: handleSelectAllUsers\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [\"Order Details\", /*#__PURE__*/_jsxDEV(TableSortLabel, {\n                active: order.orderBy === 'UserName',\n                direction: order.orderDirection,\n                onClick: handleSort('UserName'),\n                children: order.orderBy === 'UserName' ? /*#__PURE__*/_jsxDEV(Box, {\n                  component: \"span\",\n                  sx: visuallyHidden,\n                  children: order.orderDirection === 'desc' ? 'sorted descending' : 'sorted ascending'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 39\n                }, this) : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Order ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Source\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Amount\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: users === null || users === void 0 ? void 0 : users.map(user => {\n            const isUserSelected = selectedUsers.includes(user.UserID);\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              hover: true,\n              selected: isUserSelected,\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                padding: \"checkbox\",\n                children: /*#__PURE__*/_jsxDEV(Checkbox, {\n                  color: \"primary\",\n                  checked: isUserSelected,\n                  onChange: event => handleSelectOneUser(event, user.UserID),\n                  value: isUserSelected\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                sortDirection: order.orderBy === user.UserName ? order.orderDirection : false,\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  fontWeight: \"bold\",\n                  color: \"text.primary\",\n                  gutterBottom: true,\n                  noWrap: true,\n                  children: user.UserName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  fontWeight: \"bold\",\n                  color: \"text.primary\",\n                  gutterBottom: true,\n                  noWrap: true,\n                  children: user.PersonName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  fontWeight: \"bold\",\n                  color: \"text.primary\",\n                  gutterBottom: true,\n                  noWrap: true,\n                  children: user.RoleName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this)]\n            }, user.UserID, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      p: 2,\n      children: /*#__PURE__*/_jsxDEV(TablePagination, {\n        component: \"div\",\n        count: users.length,\n        onPageChange: handlePageChange,\n        onRowsPerPageChange: handleLimitChange,\n        page: page,\n        rowsPerPage: limit,\n        rowsPerPageOptions: [5, 10, 25, 50, 100, 200]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, this);\n}; //UsersTable.propTypes = {\n//  cryptoOrders: PropTypes.array.isRequired\n//};\n//UsersTable.defaultProps = {\n//  cryptoOrders: []\n//};\n\n\n_s(UsersTable, \"bKN6ibR+s46eC7YeDfuF5+zC9MA=\", false, function () {\n  return [useTheme];\n});\n\n_c = UsersTable;\nexport default UsersTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"UsersTable\");","map":{"version":3,"sources":["E:/Projects/LFMS/LFMS.WebUI/src/content/pages/Components/Users/UsersTable.tsx"],"names":["useState","TableSortLabel","Divider","Box","Card","Checkbox","Table","TableBody","TableCell","TableHead","TablePagination","TableRow","TableContainer","Typography","useTheme","post","visuallyHidden","applyPagination","users","page","limit","slice","UsersTable","setUsers","order","setOrder","orderBy","orderDirection","selectedUsers","setSelectedUsers","selectedBulkActions","length","setPage","setLimit","filters","setFilters","UserName","undefined","PersonName","RoleName","statusOptions","id","name","handleStatusChange","event","child","value","target","prevFilters","handleSelectAllUsers","checked","map","user","UserID","handleSelectOneUser","includes","prevSelected","filter","handlePageChange","newPage","getFilteredUsers","handleLimitChange","parseInt","handleSort","property","selectedSomeUsers","selectedAllUsers","theme","_requestParamters","start","then","response","status","data","error","resMessage","message","toString","isUserSelected"],"mappings":"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","sourcesContent":["import { FC, ChangeEvent, useState, ReactNode } from 'react';\r\nimport { format } from 'date-fns';\r\nimport numeral from 'numeral';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    TableSortLabel, SortDirection,\r\n  Tooltip,\r\n  Divider,\r\n  Box,\r\n  FormControl,\r\n  InputLabel,\r\n  Card,\r\n  Checkbox,\r\n  IconButton,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TablePagination,\r\n  TableRow,\r\n  TableContainer,\r\n  Select,\r\n  MenuItem,\r\n  Typography,\r\n  useTheme,\r\n  CardHeader,\r\n  SelectChangeEvent\r\n} from '@mui/material';\r\n\r\nimport { DataTableRequest, DataTableResponse, Order } from '../../../../models/table.type';\r\nimport { post } from \"../../../../services/common.service\";\r\nimport { IUser } from '../../../../models/user'\r\nimport Label from '../../../../components/Label';\r\nimport EditTwoToneIcon from '@mui/icons-material/EditTwoTone';\r\nimport DeleteTwoToneIcon from '@mui/icons-material/DeleteTwoTone';\r\nimport { visuallyHidden } from '@mui/utils';\r\n//import BulkActions from './BulkActions';\r\n\r\n//interface RecentOrdersTableProps {\r\n//  className?: string;\r\n//  cryptoOrders: User[];\r\n//}\r\n\r\ninterface Filters {\r\n    UserName?: string;\r\n    PersonName?: string;\r\n    RoleName?: string;\r\n}\r\n\r\n//const getStatusLabel = (cryptoOrderStatus: UserStatus): JSX.Element => {\r\n//  const map = {\r\n//    failed: {\r\n//      text: 'Failed',\r\n//      color: 'error'\r\n//    },\r\n//    completed: {\r\n//      text: 'Completed',\r\n//      color: 'success'\r\n//    },\r\n//    pending: {\r\n//      text: 'Pending',\r\n//      color: 'warning'\r\n//    }\r\n//  };\r\n\r\n//  const { text, color }: any = map[cryptoOrderStatus];\r\n\r\n//  return <Label color={color}>{text}</Label>;\r\n//};\r\n\r\n//const applyFilters = (\r\n//  cryptoOrders: IUser[],\r\n//  filters: Filters\r\n//): IUser[] => {\r\n//  return cryptoOrders.filter((cryptoOrder) => {\r\n//    let matches = true;\r\n\r\n//    if (filters.status && cryptoOrder.status !== filters.status) {\r\n//      matches = false;\r\n//    }\r\n\r\n//    return matches;\r\n//  });\r\n//};\r\n\r\nconst applyPagination = (\r\n  users: IUser[],\r\n  page: number,\r\n  limit: number\r\n): IUser[] => {\r\n  return users.slice(page * limit, page * limit + limit);\r\n};\r\n\r\nconst UsersTable: FC = () => {\r\n    \r\n    var [users, setUsers] = useState<IUser[]>(\r\n        []\r\n    );\r\n    var [order, setOrder] = useState<Order>(\r\n        { orderBy: '', orderDirection:'asc' }\r\n    );\r\n    const [selectedUsers, setSelectedUsers] = useState<number[]>(\r\n    []\r\n  );\r\n  const selectedBulkActions = selectedUsers.length > 0;\r\n  const [page, setPage] = useState<number>(0);\r\n  const [limit, setLimit] = useState<number>(5);\r\n    const [filters, setFilters] = useState<Filters>({\r\n        UserName: undefined,\r\n        PersonName: undefined,\r\n        RoleName: undefined\r\n  });\r\n\r\n  const statusOptions = [\r\n    {\r\n      id: 'all',\r\n      name: 'All'\r\n    },\r\n    {\r\n      id: 'completed',\r\n      name: 'Completed'\r\n    },\r\n    {\r\n      id: 'pending',\r\n      name: 'Pending'\r\n    },\r\n    {\r\n      id: 'failed',\r\n      name: 'Failed'\r\n    }\r\n  ];\r\n\r\n    const handleStatusChange = (event: SelectChangeEvent<string>, child: ReactNode): void => {\r\n    let value:any = null;\r\n\r\n    if (event.target.value !== 'all') {\r\n      value = event.target.value;\r\n    }\r\n\r\n    setFilters((prevFilters) => ({\r\n        ...prevFilters,\r\n        UserName: value,\r\n        PersonName: value,\r\n        RoleName: value\r\n    }));\r\n  };\r\n\r\n  const handleSelectAllUsers = (\r\n    event: ChangeEvent<HTMLInputElement>\r\n  ): void => {\r\n    setSelectedUsers(\r\n        event.target.checked\r\n            ? users?.map((user: IUser) => user.UserID)\r\n        : []\r\n    );\r\n  };\r\n\r\n  const handleSelectOneUser = (\r\n      event: ChangeEvent<HTMLInputElement>,\r\n      UserID: number\r\n  ): void => {\r\n      if (!selectedUsers.includes(UserID)) {\r\n      setSelectedUsers((prevSelected) => [\r\n        ...prevSelected,\r\n        UserID\r\n      ]);\r\n    } else {\r\n      setSelectedUsers((prevSelected) =>\r\n          prevSelected.filter((id) => id !== UserID)\r\n      );\r\n    }\r\n  };\r\n\r\n  const handlePageChange = (event: any, newPage: number): void => {\r\n      setPage(newPage);\r\n      getFilteredUsers();\r\n  };\r\n\r\n    const handleLimitChange = (event: ChangeEvent<HTMLInputElement>): void => {\r\n\r\n    setLimit(parseInt(event.target.value));\r\n    };\r\n    //const handleSort = (columnName: string): import(\"react\").MouseEventHandler<HTMLSpanElement> | undefined {\r\n    //    setOrder({ orderBy: columnName, orderDirection : 'asc' });\r\n    //}\r\n    const handleSort = (property: string) => (event: React.MouseEvent<unknown>) => {\r\n        //onRequestSort(event, property);\r\n        \r\n        setOrder({ orderBy: property, orderDirection: 'asc' });\r\n        getFilteredUsers();\r\n    };\r\n    //const handleSort = (event: React.MouseEvent<unknown>, property: string) => {\r\n    //    const isAsc = orderBy === property && order === 'asc';\r\n    //    setOrder(isAsc ? 'desc' : 'asc');\r\n    //    setOrderBy(property);\r\n    //};\r\n\r\n    \r\n  //const filteredUsers = getFilteredUsers( filters);\r\n  //const paginatedUsers = applyPagination(\r\n  //  filteredUsers,\r\n  //  page,\r\n  //  limit\r\n  //);\r\n  const selectedSomeUsers =\r\n    selectedUsers.length > 0 &&\r\n    selectedUsers.length < users.length;\r\n  const selectedAllUsers =\r\n    selectedUsers.length === users.length;\r\n  const theme = useTheme();\r\n    const getFilteredUsers = () => {\r\n        let _requestParamters: DataTableRequest = {\r\n            filters: filters,\r\n            length: limit,\r\n            start: page * limit,\r\n            order: order\r\n        };\r\n        post('user/GetUsers', _requestParamters).then(\r\n            (response: any) => {\r\n                if (response.status == 200) {\r\n                    setUsers(response.data.data);\r\n\r\n                }\r\n            },\r\n            (error: any) => {\r\n                const resMessage =\r\n                    (error.response &&\r\n                        error.response.data &&\r\n                        error.response.data.message) ||\r\n                    error.message ||\r\n                    error.toString();\r\n            }\r\n        );\r\n    };\r\n    //getFilteredUsers();\r\n  return (\r\n    <Card>\r\n      {/*{selectedBulkActions && (*/}\r\n      {/*  <Box flex={1} p={2}>*/}\r\n      {/*   */}{/* <BulkActions />*/}\r\n      {/*  </Box>*/}\r\n      {/*)}*/}\r\n      {/*{!selectedBulkActions && (*/}\r\n      {/*  <CardHeader*/}\r\n      {/*    action={*/}\r\n      {/*      <Box width={150}>*/}\r\n      {/*        <FormControl fullWidth variant=\"outlined\">*/}\r\n      {/*          <InputLabel>Status</InputLabel>*/}\r\n      {/*          <Select*/}\r\n      {/*            value={filters.status || 'all'}*/}\r\n      {/*            onChange={handleStatusChange}*/}\r\n      {/*            label=\"Status\"*/}\r\n      {/*            autoWidth*/}\r\n      {/*          >*/}\r\n      {/*            {statusOptions?.map((statusOption) => (*/}\r\n      {/*              <MenuItem key={statusOption.id} value={statusOption.id}>*/}\r\n      {/*                {statusOption.name}*/}\r\n      {/*              </MenuItem>*/}\r\n      {/*            ))}*/}\r\n      {/*          </Select>*/}\r\n      {/*        </FormControl>*/}\r\n      {/*      </Box>*/}\r\n      {/*    }*/}\r\n      {/*    title=\"Recent Orders\"*/}\r\n      {/*  />*/}\r\n      {/*)}*/}\r\n      <Divider />\r\n      <TableContainer>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell padding=\"checkbox\">\r\n                <Checkbox\r\n                  color=\"primary\"\r\n                  checked={selectedAllUsers}\r\n                  indeterminate={selectedSomeUsers}\r\n                  onChange={handleSelectAllUsers}\r\n                />\r\n              </TableCell>\r\n                          <TableCell>Order Details\r\n                              <TableSortLabel\r\n                                  active={order.orderBy === 'UserName'}\r\n                                  direction={order.orderDirection}\r\n                                  onClick={handleSort('UserName')}\r\n                              >\r\n                                  {order.orderBy === 'UserName' ? (\r\n                                      <Box component=\"span\" sx={visuallyHidden}>\r\n                                          {order.orderDirection === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                                      </Box>\r\n                                  ) : null}\r\n                              </TableSortLabel>\r\n                          </TableCell>\r\n              <TableCell>Order ID</TableCell>\r\n              <TableCell>Source</TableCell>\r\n              <TableCell align=\"right\">Amount</TableCell>\r\n              <TableCell align=\"right\">Status</TableCell>\r\n              <TableCell align=\"right\">Actions</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n                  <TableBody>\r\n                      {users?.map((user: IUser) => {\r\n              const isUserSelected = selectedUsers.includes(\r\n                user.UserID\r\n              );\r\n              return (\r\n                <TableRow\r\n                  hover\r\n                      key={user.UserID}\r\n                  selected={isUserSelected}\r\n                >\r\n                  <TableCell padding=\"checkbox\">\r\n                    <Checkbox\r\n                      color=\"primary\"\r\n                      checked={isUserSelected}\r\n                      onChange={(event: ChangeEvent<HTMLInputElement>) =>\r\n                          handleSelectOneUser(event, user.UserID)\r\n                      }\r\n                      value={isUserSelected}\r\n                    />\r\n                  </TableCell>\r\n                      <TableCell sortDirection={order.orderBy === user.UserName ? order.orderDirection :false }>\r\n                    <Typography\r\n                      variant=\"body1\"\r\n                      fontWeight=\"bold\"\r\n                      color=\"text.primary\"\r\n                      gutterBottom\r\n                      noWrap\r\n                          >\r\n                              {user.UserName}\r\n                          </Typography>\r\n                         \r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Typography\r\n                      variant=\"body1\"\r\n                      fontWeight=\"bold\"\r\n                      color=\"text.primary\"\r\n                      gutterBottom\r\n                      noWrap\r\n                          >\r\n                              {user.PersonName}\r\n                    </Typography>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    <Typography\r\n                      variant=\"body1\"\r\n                      fontWeight=\"bold\"\r\n                      color=\"text.primary\"\r\n                      gutterBottom\r\n                      noWrap\r\n                          >\r\n                              {user.RoleName}\r\n                    </Typography>\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Box p={2}>\r\n        <TablePagination\r\n          component=\"div\"\r\n          count={users.length}\r\n          onPageChange={handlePageChange}\r\n          onRowsPerPageChange={handleLimitChange}\r\n          page={page}\r\n          rowsPerPage={limit}\r\n          rowsPerPageOptions={[5, 10, 25, 50, 100, 200]}\r\n        />\r\n      </Box>\r\n      </Card>\r\n\r\n  );\r\n};\r\n\r\n//UsersTable.propTypes = {\r\n//  cryptoOrders: PropTypes.array.isRequired\r\n//};\r\n\r\n//UsersTable.defaultProps = {\r\n//  cryptoOrders: []\r\n//};\r\n\r\nexport default UsersTable;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}